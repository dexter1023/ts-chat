<div class="account-settings-modal">
  <h1 mat-dialog-title>Ustawienia konta</h1>
  <div mat-dialog-content>
    <div class="row">
      <mat-form-field>
        <input
          matInput
          placeholder="Nazwa"
          type="text"
          [(ngModel)]="user.name"
          [formControl]="nameFormControl"
        />
        <mat-error *ngIf="emailFormControl.hasError('required')">
          Nazwa jest <strong>wymagana</strong>
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <input
          matInput
          placeholder="Email"
          [formControl]="emailFormControl"
          [(ngModel)]="user.email"
        />
        <mat-error
          *ngIf="
            emailFormControl.hasError('email') &&
            !emailFormControl.hasError('required')
          "
        >
          Adres email jest niepoprawny
        </mat-error>
        <mat-error *ngIf="emailFormControl.hasError('required')">
          Email jest <strong>wymagany</strong>
        </mat-error>
      </mat-form-field>
    </div>

    <mat-form-field *ngIf="!showPassword">
      <input
        matInput
        placeholder="Hasło"
        type="password"
        [(ngModel)]="user.password"
        [formControl]="passwordFormControl"
      />
      <mat-error *ngIf="emailFormControl.hasError('required')">
        Hasło jest <strong>wymagane</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field *ngIf="showPassword">
      <input
        matInput
        placeholder="Hasło"
        [(ngModel)]="user.password"
        [formControl]="passwordFormControl"
      />
      <mat-error *ngIf="emailFormControl.hasError('required')">
        Hasło jest <strong>wymagane</strong>
      </mat-error>
    </mat-form-field>

    <mat-checkbox [(ngModel)]="showPassword">Pokaż hasło</mat-checkbox>
  </div>
  <div mat-dialog-actions align="end">
    <button mat-button (click)="onNoClick()">Anuluj</button>
    <button
      mat-flat-button
      color="accent"
      [disabled]="
        emailFormControl.hasError('email') ||
        emailFormControl.hasError('required') ||
        nameFormControl.hasError('required') ||
        passwordFormControl.hasError('required')
      "
    >
      Zapisz
    </button>
  </div>
</div>
